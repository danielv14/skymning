@import "tailwindcss";

/* ===== CSS VARIABLER (krävs för dynamisk theming) ===== */
:root {
  /* Mood-färger - används dynamiskt i komponenter */
  --color-mood-awful: #64748b;
  --color-mood-bad: #8b5cf6;
  --color-mood-okay: #06b6d4;
  --color-mood-good: #22c55e;
  --color-mood-great: #f472b6;

  /* Aurora-färger för bakgrunder */
  --color-aurora-green: rgba(16, 185, 129, 0.12);
  --color-aurora-cyan: rgba(6, 182, 212, 0.10);
  --color-aurora-violet: rgba(139, 92, 246, 0.08);
}

/* ===== TYPOGRAFI ===== */
body {
  font-family: "DM Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ===== KOMPLEXA BAKGRUNDER (kan inte göras med Tailwind) ===== */

/* Aurora natthimmel - Welcome-sida */
.bg-night {
  background: linear-gradient(
    165deg,
    #020408 0%,
    #0a0f1a 15%,
    #0d1520 30%,
    #0f1a2a 45%,
    #0c1f2d 60%,
    #0d2233 75%,
    #112030 90%,
    #1a2a3d 100%
  );
  position: relative;
}

.bg-night::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 120% 60% at 20% 10%, var(--color-aurora-green) 0%, transparent 50%),
    radial-gradient(ellipse 100% 50% at 70% 20%, var(--color-aurora-cyan) 0%, transparent 45%),
    radial-gradient(ellipse 80% 40% at 50% 5%, var(--color-aurora-violet) 0%, transparent 40%);
  pointer-events: none;
  animation: aurora-drift 20s ease-in-out infinite;
}

/* Header gradient */
.bg-horizon {
  background: linear-gradient(to right, #0a0f1a 0%, #0d1f30 35%, #0f2538 65%, #0a0f1a 100%);
  position: relative;
}

.bg-horizon::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 60% 100% at 30% 100%, var(--color-aurora-green) 0%, transparent 60%),
    radial-gradient(ellipse 50% 80% at 70% 100%, var(--color-aurora-cyan) 0%, transparent 50%);
  pointer-events: none;
  animation: aurora-horizon 15s ease-in-out infinite;
}

/* ===== KEYFRAME ANIMATIONER ===== */

@keyframes aurora-drift {
  0%, 100% { opacity: 1; transform: translateX(0) translateY(0); }
  33% { opacity: 0.7; transform: translateX(2%) translateY(1%); }
  66% { opacity: 0.9; transform: translateX(-1%) translateY(-1%); }
}

@keyframes aurora-horizon {
  0%, 100% { opacity: 1; transform: translateX(0); }
  50% { opacity: 0.7; transform: translateX(3%); }
}

/* Stjärnor - StarField component */
@keyframes star-twinkle {
  0%, 100% { filter: brightness(1); transform: scale(1); }
  50% { filter: brightness(0.3); transform: scale(0.85); }
}

.star-twinkle {
  animation: star-twinkle ease-in-out infinite;
}

/* Float animation - Welcome page moon */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

/* Empty state bounce */
@keyframes gentle-bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

.empty-state-icon {
  animation: gentle-bounce 3s ease-in-out infinite;
}

/* Chat message appear */
@keyframes message-appear {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.chat-message {
  animation: message-appear 0.3s ease-out;
}

/* Stagger children - dashboard cards */
@keyframes fade-in-up {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.stagger-children > * {
  animation: fade-in-up 0.4s ease-out forwards;
  opacity: 0;
}

.stagger-children > *:nth-child(1) { animation-delay: 0ms; }
.stagger-children > *:nth-child(2) { animation-delay: 80ms; }
.stagger-children > *:nth-child(3) { animation-delay: 160ms; }
.stagger-children > *:nth-child(4) { animation-delay: 240ms; }
.stagger-children > *:nth-child(5) { animation-delay: 320ms; }

/* Flame flicker - streak */
@keyframes flame-flicker {
  0%, 100% { transform: scaleY(1) scaleX(1); }
  25% { transform: scaleY(1.05) scaleX(0.98); }
  50% { transform: scaleY(0.95) scaleX(1.02); }
  75% { transform: scaleY(1.02) scaleX(0.97); }
}

.flame-animate {
  animation: flame-flicker 0.8s ease-in-out 5;
  transform-origin: bottom center;
}

/* Button glow pulse */
@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(16, 185, 129, 0.2); }
  50% { box-shadow: 0 0 30px rgba(16, 185, 129, 0.35); }
}

.glow-pulse {
  animation: pulse-glow 3s ease-in-out infinite;
}

/* ===== VIEW TRANSITIONS ===== */

@view-transition {
  navigation: auto;
}

::view-transition-old(root) {
  animation: 280ms ease-out both fade-out;
}

::view-transition-new(root) {
  animation: 280ms ease-out both fade-in;
}

@keyframes fade-out {
  to { opacity: 0; transform: scale(0.98); }
}

@keyframes fade-in {
  from { opacity: 0; transform: scale(1.02); }
}

/* ===== SCROLLBAR ===== */

.overflow-y-auto::-webkit-scrollbar {
  width: 6px;
}

.overflow-y-auto::-webkit-scrollbar-track {
  background: transparent;
}

.overflow-y-auto::-webkit-scrollbar-thumb {
  background: rgba(100, 200, 180, 0.25);
  border-radius: 3px;
}

.overflow-y-auto::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 200, 180, 0.4);
}

/* ===== BENTO GRID ===== */

.bento-grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: 1fr;
}

@media (min-width: 640px) {
  .bento-grid {
    gap: 1.25rem;
    grid-template-columns: repeat(2, 1fr);
  }

  .bento-grid .bento-full {
    grid-column: span 2;
  }
}

/* ===== FOCUS STATES ===== */

.focus-ring:focus-visible {
  outline: 2px solid #10b981;
  outline-offset: 2px;
}

/* ===== GRADIENT TEXT ===== */

.text-gradient-aurora {
  background: linear-gradient(135deg, #f0fdf4 0%, #34d399 50%, #06b6d4 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ===== REDUCED MOTION ===== */

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
